<!--Title Div-->
{% macro title_div(txt, class='') %}
<p class="text-center {{ class }}">{{ txt }}</p>
{% endmacro %}

<!--Button-->
{% macro button(txt, href, bg_color='black', txt_color='white') %}
<a href="{{ href }}" class="btn" style="background-color:{{ bg_color }}; color:{{ txt_color }};">{{ txt }}</a>
{% endmacro %}

<!--Tool Badge-->
{% macro tool_badge(tool) %}
<a href="{{ url_for('tool', id_=tool.id) }}"><span class="badge" style="background-color:{{ tool.color }}; color:white;">{{ tool.name }}</span></a>
{% endmacro %}

<!--Project List Item-->
{% macro project_list_item(project) %}
<div class="list-group-item list-group-item-action d-flex justify-content-between border-0">
  <div>
    {{ unstyled_link(project.name, class='mr-2', href=url_for('project', id_=project.id)) }}
    {% for i in project.tools %}
    {{ tool_badge(i) }}
    {% endfor %}
  </div>
  <div>
    <span class="font-italic mr-3" style="color:{{ project.get_status()[1] }}">{{ project.get_status()[0] }}</span>
    <small class="mr-2">{{ project.get_start_date() }}</small>
    <a href="" data-target="#info_project_{{ project.id }}" data-toggle="modal" class="mx-1" style="text-decoration:none">{{ info_icon(size='20') }}</a>
    <a href="" data-target="#edit_project_{{ project.id }}" data-toggle="modal" class="mx-1" style="text-decoration:none">{{ edit_icon(size='20') }}</a>
  </div>
</div>

{% call modal('edit_project_' + project.id|string, 'Edit Project') %}
{{ edit_project_form(project) }}
{% endcall %}

{% call modal('info_project_' + project.id|string, project.name, class='text-center') %}
<p>{{ project.descrip }}</p>
<p>{{ project.get_start_date() }}</p>
<p class="font-italic" style="color:{{ project.get_status()[1] }}">{{ project.get_status()[0] }}</p>
{% for i in project.tools %}
{{ tool_badge(i) }}
{% endfor %}
<div class="mb-4"></div>
{% endcall %}

{% endmacro %}

<!--Tool List Item-->
{% macro tool_list_item(tool) %}
<div class="list-group-item list-group-item-action d-flex justify-content-between border-0">
  {{ unstyled_link(tool.name, href=url_for('tool', id_=tool.id)) }}
  <span class="">{{ circle_icon(tool.color) }}</span>
</div>
{% endmacro %}

<!--Brand Icon-->
{% macro brand_icon() %}
<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="white" class="bi bi-code-slash" viewBox="0 0 16 16">
  <path d="M10.478 1.647a.5.5 0 1 0-.956-.294l-4 13a.5.5 0 0 0 .956.294l4-13zM4.854 4.146a.5.5 0 0 1 0 .708L1.707 8l3.147 3.146a.5.5 0 0 1-.708.708l-3.5-3.5a.5.5 0 0 1 0-.708l3.5-3.5a.5.5 0 0 1 .708 0zm6.292 0a.5.5 0 0 0 0 .708L14.293 8l-3.147 3.146a.5.5 0 0 0 .708.708l3.5-3.5a.5.5 0 0 0 0-.708l-3.5-3.5a.5.5 0 0 0-.708 0z"/>
</svg>
{% endmacro %}

<!--Edit Icon-->
{% macro edit_icon(size='16') %}
<svg xmlns="http://www.w3.org/2000/svg" width="{{ size }}" height="{{ size }}" fill="black" class="bi bi-pencil-square" viewBox="0 0 16 16">
  <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
  <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
</svg>
{% endmacro %}

<!--Info Icon-->
{% macro info_icon(size='16') %}
<svg xmlns="http://www.w3.org/2000/svg" width="{{ size }}" height="{{ size }}" fill="black" class="bi bi-info-square" viewBox="0 0 16 16">
  <path d="M14 1a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
  <path d="m8.93 6.588-2.29.287-.082.38.45.083c.294.07.352.176.288.469l-.738 3.468c-.194.897.105 1.319.808 1.319.545 0 1.178-.252 1.465-.598l.088-.416c-.2.176-.492.246-.686.246-.275 0-.375-.193-.304-.533L8.93 6.588zM9 4.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"/>
</svg>
{% endmacro %}

<!--Circle Icon-->
{% macro circle_icon(color, size='16') %}
<svg xmlns="http://www.w3.org/2000/svg" width="{{ size }}" height="{{ size }}" fill="{{ color }}" class="bi bi-circle-fill" viewBox="0 0 16 16">
  <circle cx="8" cy="8" r="8"/>
</svg>
{% endmacro %}

<!--Unstyled Link-->
{% macro unstyled_link(txt, class='', href='#', color='black') %}
<a href="{{ href }}" class="{{ class }}" style="text-decoration:none;color:{{ color }};">{{ txt }}</a>
{% endmacro %}

<!--Unstyled Modal Link-->
{% macro unstyled_modal_link(txt, id, class='', color='black') %}
<a href="" class="{{ class }}" style="text-decoration:none;color:{{ color }};" data-toggle="modal" data-target="#{{ id }}">{{ txt }}</a>
{% endmacro %}

<!--Add Project Form-->
{% macro add_project_form() %}
<form class="form-group" method="POST" action="{{ url_for('add_project') }}">
  <input type="text" placeholder="Name" name="name" class="form-control my-2" autocomplete="off">
  <textarea rows="10" placeholder="Description" name="descrip" class="form-control my-2" autocomplete="off"></textarea>
  <h6 class="text-center">Tools Used</h6>
  <select class="form-control my-2" name="tools_used" multiple>
    {% for i in tools %}
    <option value="{{ i.id }}">{{ i.name }}</option>
    {% endfor %}
  </select>
  <button type="submit" class="btn btn-success w-100 my-2">Add</button>
</form>
{% endmacro %}

<!--Edit Project Form-->
{% macro edit_project_form(project) %}
<form class="form-group" method="POST" action="{{ url_for('edit_project', id_=project.id) }}">
  <input type="text" placeholder="Name" name="name" class="form-control my-2" autocomplete="off" value="{{ project.name }}">
  <textarea rows="10" placeholder="Description" name="descrip" class="form-control my-2" autocomplete="off">{{ project.descrip }}</textarea>
  <select class="form-control my-2" name="status">
    <option value="In Development">In Development</option>
    <option value="Paused">Paused</option>
    <option value="Released">Released</option>
    <option value="Archived / On Ice">Archived / On Ice</option>
  </select>
  <h6 class="text-center">Tools Used</h6>
  <select class="form-control my-2" name="tools_used" multiple>
    {% for i in tools %}
    <option value="{{ i.id }}">{{ i.name }}</option>
    {% endfor %}
  </select>
  <button type="submit" class="btn btn-secondary w-100 my-2">Edit</button>
</form>
{% endmacro %}

<!--Add Tool Form-->
{% macro add_tool_form() %}
<form method="POST" action="{{ url_for('add_tool') }}" class="form-group">
  <input type="text" placeholder="Name" name="name" class="form-control my-2" autocomplete="off">
  <button type="submit" class="btn btn-success w-100 my-2">Add</button>
</form>
{% endmacro %}

<!--Modal-->
{% macro modal(id, header, class='') %}
<div class="modal {{ class }}" id="{{ id }}">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-body pb-0">
        {{ title_div(header, class='display-4') }}
        {{ caller() }}
      </div>
    </div>
  </div>
</div>
{% endmacro %}