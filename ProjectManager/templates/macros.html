<!--suppress ALL -->
{% set status_options = ['Active', 'Released (Archived)', 'Released (Maintained)', 'Planning', 'Paused'] %}

{% macro brand_icon() %}
<svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentcolor" class="bi bi-code-slash" viewBox="0 0 16 16">
  <path d="M10.478 1.647a.5.5 0 1 0-.956-.294l-4 13a.5.5 0 0 0 .956.294l4-13zM4.854 4.146a.5.5 0 0 1 0 .708L1.707 8l3.147 3.146a.5.5 0 0 1-.708.708l-3.5-3.5a.5.5 0 0 1 0-.708l3.5-3.5a.5.5 0 0 1 .708 0zm6.292 0a.5.5 0 0 0 0 .708L14.293 8l-3.147 3.146a.5.5 0 0 0 .708.708l3.5-3.5a.5.5 0 0 0 0-.708l-3.5-3.5a.5.5 0 0 0-.708 0z"/>
</svg>
{% endmacro %}

{% macro add_icon(size=20, color='green', class='') %}
<svg xmlns="http://www.w3.org/2000/svg" width="{{ size }}" height="{{ size }}" fill="{{ color }}" class="bi bi-plus-circle {{ class }}" viewBox="0 0 16 16">
  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
  <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
</svg>
{% endmacro %}

{% macro update_icon(size=20, color='currentcolor', class='') %}
<svg xmlns="http://www.w3.org/2000/svg" width="{{ size }}" height="{{ size }}" fill="{{ color }}" class="bi bi-pencil-square {{ class }}" viewBox="0 0 16 16">
  <path d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"/>
  <path fill-rule="evenodd" d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"/>
</svg>
{% endmacro %}

{% macro delete_icon(size=20, color='red', class='') %}
<svg xmlns="http://www.w3.org/2000/svg" width="{{ size }}" height="{{ size }}" fill="{{ color }}" class="bi bi-x-circle {{ class }}" viewBox="0 0 16 16">
  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
  <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
</svg>
{% endmacro %}

{% macro github_icon(size=20, color='indigo', class='') %}
<svg xmlns="http://www.w3.org/2000/svg" width="{{ size }}" height="{{ size }}" fill="{{ color }}" class="bi bi-github {{ class }}" viewBox="0 0 16 16">
  <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"/>
</svg>
{% endmacro %}

{% macro check_icon(checked, size=20, class='') %}
{% if checked %}
<svg xmlns="http://www.w3.org/2000/svg" width="{{ size }}" height="{{ size }}" fill="green" class="bi bi-check-circle {{ class }}" viewBox="0 0 20 20">
  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
  <path d="M10.97 4.97a.235.235 0 0 0-.02.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-1.071-1.05z"/>
</svg>
{% else %}
<svg xmlns="http://www.w3.org/2000/svg" width="{{ size }}" height="{{ size }}" fill="black" class="bi bi-circle {{ class }}" viewBox="0 0 20 20">
  <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
</svg>
{% endif %}
{% endmacro %}

{% macro project_list_item(project) %}
<div class="card col-xl-6 border-0">
  <div class="card-body border rounded shadow-sm my-2">
    <a href="{{ url_for('project', id_=project.id) }}" class="link fw-bold">{{ project.name }}</a>
    <span class="badge" style="background-color:{{ project.get_status()[1] }}">{{ project.get_status()[0] }}</span>
    <p class="badge bg-dark rounded-pill">{{ project.get_undone_todos() }}</p>
    <div class="float-end">
      {% if project.github_url %}<a href="{{ project.github_url }}" class="link mx-1" target="_blank">{{ github_icon() }}</a>{% endif %}
      <a onclick="toggleDiv('projectDelete' + {{ project.id }})" class="link mx-1">{{ delete_icon() }}</a>
    </div>
    <div class="mt-3" style="display:none" id="projectDelete{{ project.id }}"><a onclick="projectDelete({{ project.id }})" class="btn btn-danger w-100">Delete</a></div>
  </div>
</div>
{% endmacro %}

{% macro todo_list_item(todo) %}
<div class="list-group-item list-group-item-action border-0">
  <a onclick="todoMark({{ todo.id }})">{{ check_icon(todo.done) }}</a>
  <input type="text" class="border-0 w-75" value="{{ todo.item }}" id="itemName{{ todo.id }}" onchange="todoEdit({{ todo.id }})" style="background-color:inherit">
  <a class="float-end" onclick="todoDelete({{ todo.id }})">{{ delete_icon() }}</a>
</div>
{% endmacro %}

{% macro sort_filter() %}
<ul class="list-inline">
  <p class="m-0 badge text-dark">Sort By:</p>
  {% if order_by != 'name' %}<a class="badge bg-success link text-light rounded-pill" href="{{ url_for('projects', order_by='name') }}">Name</a>{% endif %}
  {% if order_by != 'status' %}<a class="badge bg-success link text-light rounded-pill" href="{{ url_for('projects', order_by='status') }}">Status</a>{% endif %}
  {% if order_by != 'start_date desc' %}<a class="badge bg-success link text-light rounded-pill" href="{{ url_for('projects', order_by='start_date desc') }}">Date</a>{% endif %}
</ul>
{% endmacro %}

{% macro project_create_form() %}
<form class="input-group" onsubmit="event.preventDefault(); projectCreate();">
  <input autocomplete="off" class="form-control" placeholder="Name" name="project_name" id="projectName">
  <button type="submit" class="btn btn-success">+</button>
</form>
{% endmacro %}

{% macro project_update_form(project, class='') %}
<form class="form-group {{ class }}" onsubmit="event.preventDefault(); projectEdit({{ project.id }});">
  <input id="projectName{{ project.id }}" autocomplete="off" class="form-control mb-2" placeholder="Name" name="project_name" value="{{ project.name }}">
  <input type="date" class="form-control mb-2" name="start_date" value="{{ project.start_date }}">
  <textarea id="descrip{{ project.id }}" rows="5" autocomplete="off" class="form-control mb-2" placeholder="Description" name="descrip">{% if project.descrip %}{{ project.descrip }}{% endif %}</textarea>
  <select id="status{{ project.id }}" class="form-control mb-2" name="status">
    <option value="Select Status">Select Status</option>
    {% for i in status_options %}
    <option value="{{ i }}" {% if i== project.status %}selected{% endif %}>{{ i }}</option>
    {% endfor %}
  </select>
  <input id="github_url{{ project.id }}" autocomplete="off" class="form-control mb-2" placeholder="GitHub URL" name="github_url" {% if project.github_url %}value="{{ project.github_url }}" {% endif %}>
  <input id="tools{{ project.id }}" autocomplete="off" class="form-control mb-2" placeholder="Tools" name="tools" {% if project.tools %}value="{{ project.tools }}" {% endif %}>
  <button type="submit" class="btn btn-success w-100">Update</button>
</form>
{% endmacro %}

{% macro todo_create_form(project) %}
<form onsubmit="event.preventDefault(); todoCreate({{ project.id }});">
  <input autocomplete="off" name="task" class="m-2 w-100 border-0" placeholder="+ New TODO" id="task{{ project.id }}">
</form>
{% endmacro %}