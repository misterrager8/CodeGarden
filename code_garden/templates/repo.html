{% extends "base.html" %}
{% import "macros.html" as macros with context %}
{% block body %}
<title>{{ repo_.name }}</title>
<div class="row">
	<div class="col-3">
		<a onclick="reloadDiv('status')" class="font-custom fs-5">Changes <i class="bi bi-arrow-clockwise"></i></a>
		<div style="" id="status" class="mt-3">
			{% for i in repo_.status %}
			{{ macros.change_item(i, repo_, loop.index0) }}
			{% endfor %}
			{% if repo_.status | length > 0 %}{{ macros.commit_form(repo_) }}{% endif %}
		</div>
		<a onclick="reloadDiv('log')" class="font-custom fs-5">Log <i class="bi bi-arrow-clockwise"></i></a>
		<div id="log" class="mt-3">
			{% for i in repo_.log() %}
			{{ macros.log_item(i) }}
			{% endfor %}
		</div>
		<div id="todos" class="mt-3">
			{{ macros.add_todo_form(repo_) }}
			{% for i in repo_.todos %}
			{{ macros.todo_item(i, repo_, loop.index0) }}
			{% endfor %}
			{% if repo_.any_done %}
			<a class="btn btn-sm btn-outline-warning mt-3" onclick="clearCompleted('{{ repo_.path }}')"><i class="bi bi-x"></i> Clear Completed</a>
			{% endif %}
		</div>
	</div>
	<div class="col-9">
		<a id="readmeBtn" class="invisible font-custom fs-5 hover" onclick="reloadDiv('diff'); $(this).addClass('invisible')"><i class="bi bi-eye"></i> README</a>
		<div id="diff" class="p-3">{{ repo_.readme | safe }}</div>
	</div>
</div>
{% endblock %}
