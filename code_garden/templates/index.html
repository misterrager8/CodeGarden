{% extends "base.html" %}
{% import "macros.html" as macros with context %}
{% block body %}
<title>CodeGarden</title>
<nav class="navbar navbar-expand-lg sticky-top">
	<div class="container-fluid">
		<span class="spinner-border spinner-border-sm" id="spinner" style="display: none;"></span>
		<div class="collapse navbar-collapse">
			<ul class="navbar-nav me-auto" id="nav">
				<li class="nav-item dropdown">
					<a data-bs-toggle="dropdown" data-bs-target="#repos" class="nav-link dropdown-toggle" id="current">Select Repository</a>
					<div class="dropdown-menu" id="repos">
						<form onsubmit="event.preventDefault(); createRepository();" class="mx-1">
							<input autocomplete="off" class="form-control border-success" id="name" placeholder="New Repository">
						</form>
						{% for i in repositories %}
						<a onclick="getRepo('{{ i.name }}')" class="dropdown-item">
							<span>{{ i.name }}</span>
							{% if i.diffs|length > 0 %}<span class="float-end"><i class="bi bi-circle-fill text-primary"></i></span>{% endif %}
						</a>
						{% endfor %}
					</div>
				</li>
			</ul>
			<ul class="navbar-nav ms-auto">
				<li class="nav-item">
					<a class="me-2 btn btn-sm text-light" onclick="setLight()" id="dark"><i class="bi bi-sun"></i></a>
					<a class="me-2 btn btn-sm text-dark" onclick="setDark()" id="light"><i class="bi bi-moon"></i></a>
				</li>
			</ul>
		</div>
	</div>
</nav>
<div id="index"></div>
{% endblock %}
